include ../_common/_cart-price-total.pug
include ./CT0302-inc.pug

mixin CT0302(option=false, country=false)
    .CT0302
        if(option === "member")
            case country
                when 'au'
                    .buy-checkout__item.buy-checkout__item--delivery
                        +checkoutStep({
                            title:"Delivery",
                            current:"2",
                            total:"3",
                            type: "active"
                        })
                        .c-checkout-step02
                            .buy-address-box.buy-address-box--complete
                                +addressBox(false, false, [
                                    {
                                        flag: ["Shipping"],
                                        title:"Robert Surrency",
                                        address:"21 Shackle StreetAnula, Northern Territory, 0822, Australia",
                                        num:"123-4567-8910",
                                        type: "",
                                    },
                                ])
                        .c-checkout-step02.c-checkout-step02--warn
                            .buy-address-box.buy-address-box--complete
                                +addressBox(false, false, [
                                    {
                                        flag: ["Billing"],
                                        title:"Robert Surrency",
                                        address:"21 Shackle StreetAnula, Northern Territory, 0822, Australia",
                                        num:"123-4567-8910",
                                        type: "",
                                    },
                                ])
                        +toastPopup([
                            {
                                type: "error",
                                text: 'The items(s) are not available for shipping in your area. Please change address options',
                                remove: true,
                            },
                        ])
                        .buy-checkout__item--delivery-mix
                            details(open).buy-delivery-box__accordion-mix.buy-delivery-box__accordion-mix--error
                                summary.c-accordion-mix__head
                                    .c-accordion-mix__head-text
                                        +deliveryBoxProduct([
                                            {
                                                title: "LG B1 65 inch Class 4K Smart OLED TV w/AI ThinQ® (64.5'' Diag)",
                                                qty: '1',
                                            },
                                        ])
                                .c-accordion-mix__body
                                    +deliveryBoxSubTitle({
                                        boxTitle : 'Delivery Method',
                                        tooltip: false,
                                    })
                                    +deliveryMixRadioSelect([
                                        {
                                            type: 'Option 1',
                                            tooltipMsg: '11111111111',
                                            id: 'delivery1-au',
                                            price:'0.00',
                                            unitPos: 'left',
                                            unitName: '$',
                                        },
                                        {
                                            type: 'Option 2',
                                            tooltipMsg: '11111111111',
                                            id: 'delivery2-au',
                                            price:'30.00',
                                            unitPos: 'left',
                                            unitName: '$',
                                        },
                                    ])
                                    +deliveryBoxSubTitle({
                                        boxTitle : 'Additional Services',
                                        tooltip: false,
                                    })
                                    +deliveryAccodionCheck('Installation', false, [
                                        {
                                            type: 'Basic Installation',
                                            tooltipMsg: '11111111111',
                                            id: 'delivery3-au',
                                            price:'0.00',
                                            unitPos: 'left',
                                            unitName: '$',
                                        },
                                        {
                                            type: 'TV Wallmount',
                                            tooltipMsg: '11111111111',
                                            id: 'delivery4-au',
                                            price:'25.00',
                                            unitPos: 'left',
                                            unitName: '$',
                                        },
                                    ])
                                    +deliveryAccodionCheck('Haulaway', false, [
                                        {
                                            type: 'Option 1',
                                            tooltipMsg: '11111111111',
                                            id: 'delivery5-au',
                                            price:'0.00',
                                            unitPos: 'left',
                                            unitName: '$',
                                        },
                                        {
                                            type: 'Option 2',
                                            id: 'delivery6-au',
                                            tooltipMsg: '11111111111',
                                            price:'25.00',
                                            unitPos: 'left',
                                            unitName: '$',
                                        },
                                    ])
                                    +deliveryBoxNoneAcc(["LG OLED evo Gallery Edition G2 55'' 4K Smart TV",], false, false, [
                                        {
                                            selectDateAreaTitle : 'Delivery Time',
                                            selectDateCancel : false,
                                            type: 'Thu, Oct 18  All day',
                                            id: 'delivery76',
                                            price:'',
                                            validList: [
                                                {
                                                    text: "Delivery on your preferred date is not guaranteed and subject to confirmation. We will communicate with you to confirm a delivery date.",
                                                },
                                                {
                                                    text: "Your total delivery fee is charged for only the highest delivery fee of item.",
                                                },
                                                {
                                                    text: "Trade-in offer for new and existing MyLG Members: Offer is available when purchasing products from LG's online store and metro postcodes only. A MyLG member account is required and the offer is subject to the LG Online Store Terms and Conditions of Sale. Customers can buy items at the advertised price, subject to stock availability. LG reserves the right to adjust prices and offer periods without prior notice. Discounts are non-transferrable and cannot be exchanged for cash. The LG Trade-in Program incentivizes the take-back of old eligible appliances by offering a trade-in discount when purchasing select LG refrigerators, washing machines, dryers and stylers. Take-back products hold no monetary value, and if the purchased item is returned for a refund, customers won't receive compensation for the take back product or trade-in discount. Customers must disconnect, unplug and remove from cavity or mounting the trade-in product ready for collection at the time of delivery of the new LG product. Failure to do so will result in a refusal to take back the old product and LG reserves the right to charge customers the equivalent to the trade-in discount.",
                                                }
                                            ]
                                        },
                                    ])
                                    +deliverySelectDateComplete({
                                        title:'Delivery Time',
                                        text:'Delivery within 3-5 days',
                                        desc:'Your total delivery fee is charged for only the highest delivery fee of item',
                                    })
                            +toastPopup([
                                {
                                    type: "error",
                                    text: 'The items(s) are not available for shipping in your area. Please change delivery options',
                                    remove: true,
                                },
                            ])
                        .buy-checkout__item--delivery-mix
                            details(open).buy-delivery-box__accordion-mix
                                summary.c-accordion-mix__head
                                    .c-accordion-mix__head-text
                                        +deliveryBoxProduct([
                                            {
                                                title: "LG B1 65 inch Class 4K Smart OLED TV w/AI ThinQ® (64.5'' Diag)",
                                                qty: '1',
                                            },
                                            {
                                                title: "LG Soundbar SP8YAV",
                                                qty: '1',
                                            },
                                        ])
                                .c-accordion-mix__body
                                    +deliveryBoxSubTitle({
                                        boxTitle : 'Delivery Method',
                                        tooltip: false,
                                    })
                                    +deliveryMixRadioSelect([
                                        {
                                            type: 'Option 1',
                                            tooltipMsg: '11111111111',
                                            id: 'delivery7-au',
                                            price:'0.00',
                                            unitPos: 'left',
                                            unitName: '$',
                                        },
                                        {
                                            type: 'Option 2',
                                            tooltipMsg: '11111111111',
                                            id: 'delivery8-au',
                                            price:'0.00',
                                            unitPos: 'left',
                                            unitName: '$',
                                        },
                                    ])
                                    +deliveryBoxSubTitle({
                                        boxTitle : 'Additional Services',
                                        tooltip: false,
                                    })
                                    +deliveryAccodionCheck('Installation', false, [
                                        {
                                            type: 'Basic Installation',
                                            tooltipMsg: '11111111111',
                                            id: 'delivery9-au',
                                            price:'0.00',
                                            unitPos: 'left',
                                            unitName: '$',
                                        },
                                        {
                                            type: 'TV Wallmount',
                                            tooltipMsg: '11111111111',
                                            id: 'delivery10-au',
                                            price:'25.00',
                                            unitPos: 'left',
                                            unitName: '$',
                                        },
                                    ])
                                    +deliveryAccodionCheck('Haulaway', false, [
                                        {
                                            type: 'Option 1',
                                            tooltipMsg: '11111111111',
                                            id: 'delivery11-au',
                                            price:'0.00',
                                            unitPos: 'left',
                                            unitName: '$',
                                        },
                                        {
                                            type: 'Option 2',
                                            id: 'delivery12-au',
                                            tooltipMsg: '11111111111',
                                            price:'25.00',
                                            unitPos: 'left',
                                            unitName: '$',
                                        },
                                    ])
                                    +deliveryBoxNoneAcc(["LG OLED evo Gallery Edition G2 55'' 4K Smart TV",], false, false, [
                                        {
                                            selectDateAreaTitle : 'Delivery Time',
                                            selectDateCancel : false,
                                            type: 'Thu, Oct 18  All day',
                                            id: 'delivery76',
                                            price:'',
                                            validList: [
                                                {
                                                    text: "Delivery on your preferred date is not guaranteed and subject to confirmation. We will communicate with you to confirm a delivery date.",
                                                },
                                                {
                                                    text: "Your total delivery fee is charged for only the highest delivery fee of item.",
                                                },
                                                {
                                                    text: "Trade-in offer for new and existing MyLG Members: Offer is available when purchasing products from LG's online store and metro postcodes only. A MyLG member account is required and the offer is subject to the LG Online Store Terms and Conditions of Sale. Customers can buy items at the advertised price, subject to stock availability. LG reserves the right to adjust prices and offer periods without prior notice. Discounts are non-transferrable and cannot be exchanged for cash. The LG Trade-in Program incentivizes the take-back of old eligible appliances by offering a trade-in discount when purchasing select LG refrigerators, washing machines, dryers and stylers. Take-back products hold no monetary value, and if the purchased item is returned for a refund, customers won't receive compensation for the take back product or trade-in discount. Customers must disconnect, unplug and remove from cavity or mounting the trade-in product ready for collection at the time of delivery of the new LG product. Failure to do so will result in a refusal to take back the old product and LG reserves the right to charge customers the equivalent to the trade-in discount.",
                                                }
                                            ]
                                        },
                                    ])
                        .buy-checkout__item--delivery-mix
                            details(open).buy-delivery-box__accordion-mix
                                summary.c-accordion-mix__head
                                    .c-accordion-mix__head-text
                                        +deliveryBoxProduct([
                                            {
                                                title: "OLED65C25LB.AEU + SP9YA",
                                                qty: '1',
                                            },
                                        ])
                                .c-accordion-mix__body
                                        
                                        +deliveryBoxSubTitle({
                                            boxTitle : 'Delivery Method',
                                            tooltip: false,
                                        })
                                        +deliveryMixRadioSelect([
                                            {
                                                type: 'Option 1',
                                                tooltipMsg: '11111111111',
                                                id: 'delivery13-au',
                                                price:'0.00',
                                                unitPos: 'left',
                                                unitName: '$',
                                            },
                                            {
                                                type: 'Option 2',
                                                tooltipMsg: '11111111111',
                                                id: 'delivery14-au',
                                                price:'0.00',
                                                unitPos: 'left',
                                                unitName: '$',
                                            },
                                        ])
                                        +deliveryBoxSubTitle({
                                            boxTitle : 'Additional Services',
                                            tooltip: false,
                                        })
                                        +deliveryAccodionCheck('Installation', false, [
                                            {
                                                type: 'Basic Installation',
                                                tooltipMsg: '11111111111',
                                                id: 'delivery15-au',
                                                price:'0.00',
                                                unitPos: 'left',
                                                unitName: '$',
                                            },
                                            {
                                                type: 'TV Wallmount',
                                                tooltipMsg: '11111111111',
                                                id: 'delivery16-au',
                                                price:'25.00',
                                                unitPos: 'left',
                                                unitName: '$',
                                            },
                                        ])
                                        +deliveryAccodionCheck('Haulaway', false, [
                                            {
                                                type: 'Option 1',
                                                tooltipMsg: '11111111111',
                                                id: 'delivery17-au',
                                                price:'0.00',
                                                unitPos: 'left',
                                                unitName: '$',
                                            },
                                            {
                                                type: 'Option 2',
                                                id: 'delivery18-au',
                                                tooltipMsg: '11111111111',
                                                price:'25.00',
                                                unitPos: 'left',
                                                unitName: '$',
                                            },
                                        ])
                                        +deliveryBoxNoneAcc(["LG OLED evo Gallery Edition G2 55'' 4K Smart TV",], false, false, [
                                            {
                                                selectDateAreaTitle : 'Delivery Time',
                                                selectDateCancel : false,
                                                type: 'Thu, Oct 18  All day',
                                                id: 'delivery76',
                                                price:'',
                                                validList: [
                                                    {
                                                        text: "Delivery on your preferred date is not guaranteed and subject to confirmation. We will communicate with you to confirm a delivery date.",
                                                    },
                                                    {
                                                        text: "Your total delivery fee is charged for only the highest delivery fee of item.",
                                                    },
                                                    {
                                                        text: "Trade-in offer for new and existing MyLG Members: Offer is available when purchasing products from LG's online store and metro postcodes only. A MyLG member account is required and the offer is subject to the LG Online Store Terms and Conditions of Sale. Customers can buy items at the advertised price, subject to stock availability. LG reserves the right to adjust prices and offer periods without prior notice. Discounts are non-transferrable and cannot be exchanged for cash. The LG Trade-in Program incentivizes the take-back of old eligible appliances by offering a trade-in discount when purchasing select LG refrigerators, washing machines, dryers and stylers. Take-back products hold no monetary value, and if the purchased item is returned for a refund, customers won't receive compensation for the take back product or trade-in discount. Customers must disconnect, unplug and remove from cavity or mounting the trade-in product ready for collection at the time of delivery of the new LG product. Failure to do so will result in a refusal to take back the old product and LG reserves the right to charge customers the equivalent to the trade-in discount.",
                                                    }
                                                ]
                                            },
                                        ])
                        .button.buy-order-info-coupon__button 
                            +defaultButton({name: 'Next', wSize: 'medium', mSize: 'medium', buttonStyle: 'highlight', isButton: true})(class="next")
                default 
                    .buy-checkout__item.buy-checkout__item--delivery
                        +checkoutStep({
                            title:"Delivery",
                            current:"2",
                            total:"3",
                            type: "active"
                        })
                        .c-checkout-step02
                            .buy-address-box.buy-address-box--complete
                                +addressBox(false, false, [
                                    {
                                        flag: ["Shipping"],
                                        title:"Robert Surrency",
                                        address:"20 Farringdon Street, London, EC4A 4AB, United Kingdom",
                                        num:"123-4567-8910",
                                        type: "",
                                    },
                                ])
                        .c-checkout-step02.c-checkout-step02--warn
                            .buy-address-box.buy-address-box--complete
                                +addressBox(false, false, [
                                    {
                                        flag: ["Shipping"],
                                        title:"Robert Surrency",
                                        address:"20 Farringdon Street, London, EC4A 4AB, United Kingdom",
                                        num:"123-4567-8910",
                                        type: "",
                                    },
                                ])
                        +formCheckbox('Receive order status notification from LG.com via SMS', "name", "val1", "checkId1", count="false", false)
                        +toastPopup([
                            {
                                type: "error",
                                text: 'The items(s) are not available for shipping in your area. Please change address options',
                                remove: true,
                            },
                        ])
                        //- [Start] 2023-04-18 : ADD - Delivery Error case
                        // 2023.07.19 UPDATE - error case markup
                        //- .buy-delivery-box--error
                        +deliveryBox(["LG OLED evo Gallery Edition G2 55'' 4K Smart TV",], "error", false, false, [
                            {
                                type: 'Delivery Only',
                                tooltipMsg: '11111111111',
                                id: 'delivery60',
                                price:'£25.00',
                            },
                            {
                                type: 'Delivery & Installation',
                                tooltipMsg: '11111111111',
                                id: 'delivery62',
                                price:'£25.00',
                            },
                            {
                                type: 'Delivery & Installation & Wallmount',
                                tooltipMsg: '11111111111',
                                id: 'delivery63',
                                price:'£25.00',
                            },
                        ])
                        +toastPopup([
                            {
                                type: "error",
                                text: 'The items(s) are not available for shipping in your area. Please change delivery options',
                                remove: true,
                            },
                        ])
                        //- [End] 2023-04-18 : ADD - Delivery Error case
                        +deliveryBox(["LG OLED evo Gallery Edition G2 55'' 4K Smart TV",], false, false, false, [
                            {
                                type: 'Delivery Only',
                                tooltipMsg: '11111111111',
                                id: 'delivery64',
                                price:'£25.00',
                            },
                            {
                                type: 'Delivery & Installation',
                                tooltipMsg: '11111111111',
                                id: 'delivery65',
                                price:'£25.00',
                            },
                            {
                                type: 'Delivery & Installation & Wallmount',
                                tooltipMsg: '11111111111',
                                id: 'delivery66',
                                price:'£25.00',
                            },
                        ])
                        +deliveryBox(["LG OLED evo Gallery Edition G2 55'' 4K Smart TV",], 'complete', false, false, [
                            {
                                type: 'Delivery & Installation',
                                select: 'Thu, Oct 18  All day',
                            },
                        ])
                        +deliveryBox(["LG OLED evo Gallery Edition G2 55'' 4K Smart TV",], 'edit', false, false, [
                            {
                                type: 'Delivery Only',
                                select: 'Thu, Oct 18  All day',
                                tooltipMsg: '11111111111',
                                id: 'delivery67',
                                price:'£25.00',
                            },
                            {
                                type: 'Delivery & Installation',
                                select: 'Thu, Oct 18  All day',
                                tooltipMsg: '11111111111',
                                id: 'delivery68',
                                price:'£25.00',
                            },
                            {
                                type: 'Delivery & Installation & Wallmount',
                                select: 'Thu, Oct 18  All day',
                                tooltipMsg: '11111111111',
                                id: 'delivery69',
                                price:'£25.00',
                            },
                        ])
                        +deliveryBox(["LG OLED evo Gallery Edition G2 55'' 4K Smart TV"], 'all', false, false, [
                            {
                                type: 'Delivery & Installation',
                                select: 'Thu, Oct 18  All day',
                            },
                        ])
                        +deliveryBox(["LG OLED evo Gallery Edition G2 55'' 4K Smart TV", "LG Soundbar SP8YAV"], 'all', false, false, [
                            {
                                type: 'Delivery & Installation',
                                select: 'Thu, Oct 18  All day',
                            },
                        ])
                        +deliveryBox(["LG Soundbar SP8YA"], 'only', false, false, false, [
                            {
                                type: 'Delivery Only',
                            },
                        ])
                        +radioDeliveryBox(["LG OLED evo Gallery Edition G2 55'' 4K Smart TV"],'complete',[
                            {
                                type: 'Home Delivery & Installation',
                                tooltipMsg: '11111111111',
                                id: 'delivery70',
                                price:'£25.00',
                            }
                        ])
                        +deliveryBox(["LG Soundbar SP8YA"], 'only', false, false, [
                            {
                                type: 'Delivery Only',
                                warn: 'The delivery time is different for each shipping company.',
                            },
                        ])
                        +radioDeliveryBox(["LG OLED evo Gallery Edition G2 55'' 4K Smart TV"],false,[
                            {
                                type: 'Delivery Only',
                                tooltipMsg: '11111111111',
                                id: 'delivery71',
                                price:'£25.00',
                            },
                            {
                                type: 'Delivery & Installation',
                                tooltipMsg: '11111111111',
                                id: 'delivery72',
                                price:'£25.00',
                            },
                            {
                                type: 'Delivery & Installation & Wallmount ',
                                tooltipMsg: '11111111111',
                                id: 'delivery73',
                                price:'£25.00',
                            }
                        ])
                        .button.buy-order-info-coupon__button 
                            +defaultButton({name: 'Next', wSize: 'medium', mSize: 'medium', buttonStyle: 'highlight', isButton: true})(class="next")

            +CT0302("complete",'hide')

        if(option === "guest")
            .buy-checkout__item.buy-checkout__item--delivery
                +checkoutStep({
                    title:"Delivery",
                    current:"2",
                    total:"3",
                    type: "active"
                })
                .c-checkout-step02.c-checkout-step02-form
                    // [Start] 2023-06-02 : UPDATE- change messages
                    p.c-checkout-step01-prevention Delivery limited to UK mainland only on orders placed via the LG online store
                    // [End] 2023-06-02 : UPDATE- change messages
                    p.c-checkout-step02-form__title.font-w-normal-24.font-m-normal-20 Shipping
                    // [Start] 2023-06-12 : ADD - number-text
                    +myInputForm([
                        {
                            type:"text",
                            label:"First Name",
                            id:"firstName",
                            required:false,
                            placeholder:"",
                        },
                        {
                            type:"text",
                            label:"Last Name",
                            id:"lastName",
                            required:false,
                            placeholder:"",
                        },
                        {
                            type:"tel",
                            label:"Mobile Number",
                            id:"mobileNumber",
                            tooltipMsg:false,
                            required:false,
                            placeholder:"0XXX-XXX-XXX",
                            numberText: '',
                            telInfo: 'For delivery questions.',
                        },
                        {
                            type:"text",
                            label:"Company",
                            id:"company",
                            required:false,
                            placeholder:"",
                        },
                        {
                            type:"searchAddress",
                            label:"Street Address (PO Box delivery is not available)",
                            id:"searchAddress-au",
                            required:true,
                            value:'',
                            addressClass:'searchAddress--clearArrow',
                            clearCountry:true,
                            list: false,
                            placeholder:"",
                            doubleInputNo: 1,
                            infoTextSecond: "Please search your street address. Your address will be automatically populated from the search list.",
                        }, 
                        {
                            type:"searchAddress",
                            label:"Street Address (PO Box delivery is not available)",
                            id:"searchAddress-list-au",
                            required:true,
                            value:'123 AU',
                            addressClass:'searchAddress--clearArrow',
                            clearCountry:true,
                            list: [
                                '123 Eyans Street, South Geelong VIC 3220',
                                '123 Clayton Road, Oakleigh East VIC 3166',
                                '123 Gardenia Road, Lalor VIC 3075',
                                '123 Balgownie Rd, Balgownie NSW 2519',
                                '123 Grange Rd, Glen Huntly VIC 3163',
                            ],
                            placeholder:"Search address",
                            warning: ['Street address is required.'],
                            doubleInputNo: 1,
                        }, 
                        {
                            type:"text",
                            label:"Postcode",
                            id:"postcode",
                            required:false,
                            value:"",
                            placeholder:"",
                        },
                        {
                            type:"select",
                            label:"State/Territory",
                            id:"state",
                            value:"",
                            optionVal: ['State/Territory', 'State/Territory', 'State/Territory', 'State/Territory'],
                            placeholder:"State/Territory",
                            required:true,
                        },
                        {
                            type:"text",
                            label:"Suburb",
                            id:"suburb",
                            required:false,
                            value:"",
                            placeholder:"",
                        },
                        {
                            type:"checkbox",
                            label:false,
                            id:"sameAddress",
                            required:false,
                            placeholder:false,
                            text:'Same for billing address'
                        },
                    ])

                .button.buy-order-info-coupon__button
                    +defaultButton({name: "Save Address", wSize: 'medium', mSize: 'medium', buttonStyle: 'highlight', isButton: true})(class="save")

        if(option === "before")
            .buy-checkout__item.before
                +checkoutStep({
                    title:"Delivery",
                    current:"2",
                    total:"3",
                    type: "checkoutStep"
                })

        if(option === "complete")
            .buy-checkout__item.buy-checkout__item--delivery.buy-checkout__item--complete(style=`${country=='hide'?'display:none':''}`)
                +checkoutStep({
                    title:"Delivery",
                    current:"2",
                    total:"3",
                    type: "checked",
                })
                .c-checkout-step02
                    .buy-address-box.buy-address-box--complete
                        +addressBox(false, false, [
                            {
                                flag: ["Shipping"],
                                title:"Robert Surrency",
                                address:"21 Shackle StreetAnula, Northern Territory, 0822, Australia",
                                num:"123-4567-8910",
                                type: "",
                            },
                        ])
                .c-checkout-step02
                    .buy-address-box.buy-address-box--complete
                        +addressBox(false, false, [
                            {
                                flag: ["Billing"],
                                title:"Robert Surrency",
                                address:"21 Shackle StreetAnula, Northern Territory, 0822, Australia",
                                num:"123-4567-8910",
                                type: "",
                            },
                        ])
                .c-checkout-orderd.c-checkout-orderd--confirm
                    .c-checkout-orderd__item.c-checkout-orderd__item--delivery
                        +checkoutOrderDeliveryProduct("DHL", "", [
                            {
                                title: "LG B1 65 inch Class 4K Smart OLED TV w/AI ThinQ® (64.5'' Diag)",
                                qty: "1",
                                price: "2,099.98",
                                unitPos: "left",
                                unitName: "$"
                            },
                        ])
extends ../_common/_layout.pug
include ../_common/_button.pug
include ../_common/_headline.pug
include ../_common/_image.pug
include ../_common/_carousel.pug
include ../_common/_cs-form.pug

block meta 
    - var componentId = "CS0103"
    - var componentName = "Call Appointment_find My product"
    - var description = "description text"
    - var keywords = "keyword list"
    title #{componentId}. #{componentName}
    meta(name="description" content=description)
    meta(name="keywords" content=keywords)

block styles
    link(rel="stylesheet", href=componentId+".css")
    //- link(rel="stylesheet", href=`../CS0000/CS0000`+".css")

block scripts
    //- script(src=componentId+".js")
    script(src=componentId+".js" type="module")

block content
    include ../CS0000/CS-inc.pug
    //- productList
    -
        const productList = [
            {
                'productName':'All Topic',
            },
            {
                'productName':'Cooling',
            },
            {
                'productName':'Icemaker Issues',
            },
            {
                'productName':'Door',
            },
            {
                'productName':'Frost Buildup',
            },
            {
                'productName':'How to Install and Operate',
            },
            {
                'productName':'Dispenser',
            },
            {
                'productName':'Leaking',
            },
            {
                'productName':'More Troubleshooting',
            },
            {
                'productName':'Noise',
            },
            {
                'productName':'Others',
            },
        ]
    mixin trigger(controlsId)
        .button
            button.cmp-button.c-accordion__button.js-accordion-trigger(aria-expanded="false" aria-controls=`${controlsId}` aria-label="")
                span.c-accordion__button-text.expand.sr-only Expand
                span.c-accordion__button-text.collapse.sr-only Collapse
    
    mixin productList
        .c-prd-grid
            div(class="c-modal-open" aria-controls="CS0013" tabindex="0" data-link-name)
                +printLazyImage('../../assets/icon/icon-tv-audio-video-80-80_normal.svg')
                // 20230305 tag change (h4 -> .c-category__title / for SEO)
                .c-category__title.font-m-normal-16.font-w-normal-24 TV/Audio/
                    br.c-hidden-pc
                    | Video
            div(class="c-modal-open" aria-controls="CS0013" tabindex="0" data-link-name)  
                +printLazyImage('../../assets/icon/icon-appliances-80-80_normal.svg')
                .c-category__title.font-m-normal-16.font-w-normal-24  Appliances
            div(class="c-modal-open" aria-controls="CS0013" tabindex="0" data-link-name)  
                +printLazyImage('../../assets/icon/icon-computer-80-80_normal.svg')
                .c-category__title.font-m-normal-16.font-w-normal-24  Computer 
                    br
                    | products
            div(class="c-modal-open" aria-controls="CS0013" tabindex="0" data-link-name)
                +printLazyImage('../../assets/icon/icon-mo-tablet-80-80_normal.svg')
                .c-category__title.font-m-normal-16.font-w-normal-24 Mobile &#38; Tablets
            div(class="c-modal-open" aria-controls="CS0013" tabindex="0" data-link-name)  
                +printLazyImage('../../assets/icon/icon-display-80-80_normal.svg')
                .c-category__title.font-m-normal-16.font-w-normal-24  Information
                    br
                    | display
            div(class="c-modal-open" aria-controls="CS0013" tabindex="0" data-link-name)  
                +printLazyImage('../../assets/icon/icon-aircon-80-80_normal.svg')
                .c-category__title.font-m-normal-16.font-w-normal-24 Air 
                    br.c-hidden-mo 
                    | conditioning
                    br
                    | system
        .c-tabs__desc.font-m-normal-14.font-w-normal-16 *Includes business-only products.
        
    mixin galleryItem(type)
        case type
            when 1
                .cmp-carousel__item.swiper-slide.c-carousel__item(data-cmp-data-layer="" data-cmp-hook-carousel="item" tabindex="0")
                   .c-prd-register
                        .c-prd-register__prdinfo
                            +printLazyPicture('https://via.placeholder.com/80x80/ccc/000/?text=80x80', 'https://via.placeholder.com/132x132/ccc/000/?text=132x132')
                            .c-prd-register__prdtxt
                                p.font-m-normal-12.font-w-normal-16 Your registed product
                                .c-prd-tit.font-m-normal-20.font-w-normal-20 LG NANO76 70inch 4K SMART NANOCELL TV (70NANO766QA)
                                .button.c-cta
                                    // role="link" before login, role="dialog" after login
                                    +defaultButton({name: 'Go to detail', wSize: 'medium', mSize: 'small', buttonStyle: 'default'})
            
            when 2
                .cmp-carousel__item.swiper-slide.c-carousel__item(data-cmp-data-layer="" data-cmp-hook-carousel="item" tabindex="0")
                   .c-prd-register
                        .c-prd-register__prdinfo
                            +printLazyPicture('https://via.placeholder.com/80x80/ccc/000/?text=80x80', 'https://via.placeholder.com/132x132/ccc/000/?text=132x132')
                            .c-prd-register__prdtxt
                                p.font-m-normal-12.font-w-normal-16 Your registed product
                                .c-prd-tit.font-m-normal-20.font-w-normal-20 LG NANO76 70inch 4K SMART NANOCELL TV (70NANO766QA)
                                .button.c-cta
                                    +defaultButton({name: 'Go to detail', wSize: 'medium', mSize: 'small', buttonStyle: 'default'})
            // 20230531 When the area is a link
            when 3
                .cmp-carousel__item.swiper-slide.c-carousel__item.emptyCard.c-hidden-mo(data-cmp-data-layer="" data-cmp-hook-carousel="item" tabindex="0")
                    // Insert emptycard when data is less than 3 (added class .emptyCard)
                    .c-prd-register
                        a.c-prd-register__to-list(href="#" aria-label="Go to product registration page" data-link-name="" data-link-destination="" data-link-menu="" data-link-page-type="") 
            when 4 
                .cmp-carousel__item.swiper-slide.c-carousel__item(data-cmp-data-layer="" data-cmp-hook-carousel="item" tabindex="0")
                   .c-prd-register
                        .c-prd-register__prdinfo
                            +printLazyPicture('https://via.placeholder.com/80x80/ccc/000/?text=80x80', 'https://via.placeholder.com/132x132/ccc/000/?text=132x132')
                            .c-prd-register__prdtxt
                                p.font-m-normal-12.font-w-normal-16 Register products with ThinQ
                                .c-prd-tit.font-m-normal-20.font-w-normal-20 LG NANO76 70inch 4K SMART NANOCELL TV (70NANO766QA)
                                .button.c-cta
                                    +button({color:"black", name: "Quick registeration", class:'toastOpen'})(aria-describedby="toastOpen" role="toast")
            // 20230531 When the area is not a link
            when 5
                .cmp-carousel__item.swiper-slide.c-carousel__item.emptyCard.c-hidden-mo(data-cmp-data-layer="" data-cmp-hook-carousel="item" tabindex="0")
                    // Insert emptycard when data is less than 3 (added class .emptyCard)
                    .c-prd-register
                        p.c-prd-register__to-list             
        if block
            block
    
    //- add mixin
    mixin searchBar
        P.searchBar__infoMsg.font-m-normal-14.font-w-normal-20 * After entering the model number, please select the product from the search result. (Enter key does not work)
        .searchbar
            #searchbar.searchBar__root(data-cmp-data-layer='' role='search')
                .searchBar__searchInner
                    form.searchBar__form(autocomplete='off' _lpchecked='1' action='')
                        span.fieldIcons__root
                            span.fieldIcons__input
                                input#textInput__input.textInput__input.field__input.font-m-normal-16.font-w-normal-20(type="text" name='search_query' value='' role='searchbox' aria-label="Search" placeholder='Please type model number')
                                button(type="button").c-button-delete delete button
                            //- button(type="button" title="search" aria-label="" aria-describedby="").fieldIcons__before.c-hidden-mo
                            //-     span.icon__root
                            //-         span.sr-only Search
                        p.message__root
                        .searchBar__SearchAutocompleteWrapper

            .c-model-contents
                a(tabindex="0" class="c-modal-open find-number font-m-normal-14 font-w-normal-16" aria-label="" aria-controls="CS0027" role="dialog" data-link-name) How to find my model number?

    mixin formSelect
            .cs-form.c-flex
                .cmp-form
                    +csForm_Select({id: 'warrantyType', label: 'Warranty type ', require: 'true', requireMsg: 'Warranty type is required.  ​', value_01: 'Warranty type', value_02: 'Warranty type-2', class:'c-responsavel-vald' })  
                .cmp-form 
                    +csForm_Input({id: 'purchaseDate', label: 'Purchase date', type:"date", placeholder:"YYYY/MM/DD", formDefalut: 'true', requireMsg: 'Purchase date is required.​' })                                                                  

    mixin searchProductCont(params)
        - var option = { form:false, ...params }
        if option.form
                +searchBar
                +productList
                +formSelect
        else
            +searchBar
            +productList

    mixin typeCardslide(params)
        - var option = { add:true, ...params }
            .c-wrapper.CS0103.type-text
                .component.type-card__slide.type-card__slide--select.full
                    .CS0103__container
                        // button class added .c-viewMore-btn
                        .button.c-cta.c-viewMore-btn
                            +linkButton({type:"text", icon:true, name:'Select another registered product'})(role="dialog")
                        .carousel.panelcontainer
                            // block - carousel
                            .cmp-carousel.swiper.c-carousel.bbb(data-cmp-data-layer="")
                                .cmp-carousel__content.swiper-wrapper
                                    if option.add
                                        +galleryItem(1)
                                        +galleryItem(5)
                                        +galleryItem(5)
                                        +galleryItem(1)
                                    else
                                        +galleryItem(1)
                                        +galleryItem(1)
                                        +galleryItem(1)
                                        +galleryItem(1)
                                .c-carousel__handler
                                    .cmp-carousel__actions
                                        +carouselBtn({type:"pagination", direction:"prev"})
                                    +carouselPagination({isUnder:true})
                                    .cmp-carousel__actions
                                        +carouselBtn({type:"pagination", direction:"next"})  

    mixin selectProductItem(params) 
        - var option = { infoType:true, completeType:false, activeWord:false, searchWord:true, warrantyType:false, warrantyDate:false ,...params }
            if option.infoType
                .c-selected-model-Info 
                    if option.activeWord
                        .c-active-red.font-m-normal-12.font-w-normal-16 My product
                    if option.searchWord
                        .font-m-normal-12.font-w-normal-16 Searched product
                    .c-serialNum.font-m-normal-12.font-w-normal-16 GSXV90MCDE
                    .c-prdName.font-m-normal-20.font-w-normal-24 InstaView Door-in-Door
                    // 20230322 markup change
                    .c-warrantyInfo.font-m-normal-12.font-w-normal-16 Warranty info
                        span.c-hidden-mo :
                        br.c-hidden-pc
                        span Labor 12 months | Parts 12 months

            if option.completeType
                .c-prd-register__prdtxt
                    .c-prd-tit.font-m-normal-20.font-w-normal-24 GSXV90MCDE
                    .c-warrantyInfo.font-m-normal-12.font-w-normal-16 Warranty info : 
                        br.c-hidden-pc
                        span Labor 12 months / Parts 12 months
                    if option.warrantyType
                        .c-warrantyInfo.font-m-normal-12.font-w-normal-16 Warranty type : 
                            br.c-hidden-pc
                            span Out of warranty
                    if option.warrantyDate
                        .c-warrantyInfo.font-m-normal-12.font-w-normal-16 Purchased date : 
                            br.c-hidden-pc
                            span 02/26/2023
    
    mixin productSelectCard
        .breadcrumb
            .breadcrumb__wrap
                p.cmp-breadcrumb__tit.font-w-normal-14i.font-m-normal-14i Product reselect : 
                nav.cmp-breadcrumb.c-breadcrumb.swiper(data-cmp-data-layer="" aria-label="breadcrumb")
                    ol.cmp-breadcrumb__list.c-breadcrumb__list.font-m-normal-14i.font-w-normal-14i.swiper-wrapper
                        +bcItem2({text:"Appliances"})
                        +bcItem2({text:"Fridge freezers"})
                        +bcItem2({text:"American style"})
                        +bcItem2({text:"GSXV90MCDE", current:true})
            .c-selected-model-Num 
                +printLazyPicture('https://via.placeholder.com/40x40/fff/000/?text=40x40', 'https://via.placeholder.com/64x64/fff/000/?text=64x64')
                +selectProductItem
            button(type="button" aria-label="" role="button").c-btn-close 
                img(src="../../assets/icon/icon-close-black-12-12.svg")
    
    .guide-text-type Call Appointment_find My product (Common)
                    br
                    | Live remote service appointment (CA_EN, CA_FR)
    
    // Component Markup
    .guide-text-option Before category selection - when non-login
    .c-wrapper.CS0103.type-text
        .component.type-accordion
            .CS0103__container
                .c-accordion__body
                    //- .c-cs-header
                    //-     // block : text-contents
                    //-     .c-text-contents
                    //-         .title.c-text-contents__headline
                    //-             +headline('font-w-light-56 font-m-light-28',h2,'Product Support')
                    .c-text-contents.c-accordion__body-text
                        +searchProductCont({form:false})
                        .button.c-cta.c-btn__next 
                            +defaultButton({name: 'Next', wSize: 'medium', mSize: 'small', buttonStyle: 'default', isButton: "none"})(role="next button")

    .guide-text-option Before selecting a category - when logging in (if there is a registered product)
    .c-wrapper.CS0103.type-text
        .component.type-accordion
            .CS0103__container
                .c-accordion__body
                    .c-text-contents.c-accordion__body-text
                        +typeCardslide()
                        +searchProductCont({form:false})
                        //- +csForm_Schbar({id: 'textInput__input', placeholder: 'Please type model number', requiredMsg: 'Model name is required.', linkText: 'How to find my model number?'})
                        .button.c-cta.c-btn__next 
                            +defaultButton({name: 'Next', wSize: 'medium', mSize: 'small', buttonStyle: 'default', isButton: "none"})(role="next button")
    
    .guide-text-option After selecting a category
    .c-wrapper.CS0103.type-text
        .component.type-accordion
            .CS0103__container
                .c-accordion__body
                    +productSelectCard
                    .button.c-cta.c-btn__next 
                        +defaultButton({name: 'Next', wSize: 'medium', mSize: 'small', buttonStyle: 'default', isButton: "none"})(role="next button")

    .guide-text-option After selecting a category by registered product
    .c-wrapper.CS0103.type-text
        .component.type-accordion
            .CS0103__container
                .c-accordion__body
                    .button.c-cta.c-viewMore-btn
                        +linkButton({type:"text", icon:true, name:'Select another registered product'})(role="dialog")
                    .component.c-selecting__prd 
                        .c-selected-registered-prd 
                            +printLazyPicture('https://via.placeholder.com/48x48/fff/000/?text=48x48', 'https://via.placeholder.com/64x64/fff/000/?text=64x64')
                            +selectProductItem({activeWord:true,searchWord:false})
                            button(type="button" aria-label="" role="button").c-btn-close 
                                img(src="../../assets/icon/icon-close-black-12-12.svg")
                    .button.c-cta.c-btn__next 
                        +defaultButton({name: 'Next', wSize: 'medium', mSize: 'small', buttonStyle: 'default', isButton: "none"})(role="next button")

   
    .guide-text-option complete
    .c-wrapper.CS0103.type-text
        .component.type-accordion.type-accordion__result
            .CS0103__container
                .c-accordion__body.step1
                    .c-text-contents.c-accordion__body-text
                        +printLazyPicture('https://via.placeholder.com/48x48/ccc/eee/?text=48x48', 'https://via.placeholder.com/110x110/ccc/eee/?text=110x110')
                        +selectProductItem({infoType:false,completeType:true})
                    .button.c-cta
                        +linkButton({type:"text", color:"black", name: "Edit"})(role="edit button")

    .guide-text-type Video consultation appointment (IN)
    .guide-text-option Before category selection - when non-login
    .c-wrapper.CS0103.type-text
        .component.type-accordion
            .CS0103__container
                .c-accordion__body
                    .c-text-contents.c-accordion__body-text
                        +searchProductCont({form:true})
                        .button.c-cta.c-btn__next 
                            +defaultButton({name: 'Next', wSize: 'medium', mSize: 'small', buttonStyle: 'default', isButton: "none"})

    .guide-text-option Before selecting a category - when logging in (if there is a registered product)
    .c-wrapper.CS0103.type-text
        .component.type-accordion
            .CS0103__container
                .c-accordion__body
                    .c-text-contents.c-accordion__body-text
                        +typeCardslide({add:false})
                        +searchProductCont({form:true})
                        .button.c-cta.c-btn__next 
                            +defaultButton({name: 'Next', wSize: 'medium', mSize: 'small', buttonStyle: 'default', isButton: "none"})
    
    .guide-text-option After selecting a category
    .c-wrapper.CS0103.type-text
        .component.type-accordion
            .CS0103__container
                .c-accordion__body
                    +productSelectCard
                    +formSelect
                    .button.c-cta.c-btn__next 
                        +defaultButton({name: 'Next', wSize: 'medium', mSize: 'small', buttonStyle: 'default', isButton: "none"})


    .guide-text-option complete
    .c-wrapper.CS0103.type-text
        .component.type-accordion.type-accordion__result
            .CS0103__container
                .c-accordion__body.step1
                    .c-text-contents.c-accordion__body-text
                        +printLazyPicture('https://via.placeholder.com/48x48/ccc/eee/?text=48x48', 'https://via.placeholder.com/110x110/ccc/eee/?text=110x110')
                        +selectProductItem({infoType:false,completeType:true,warrantyType:true,warrantyDate:true})
                    .button.c-cta
                        +linkButton({type:"text", color:"black", name: "Edit"})(role="button")
    